#!/usr/bin/env node
'use strict';
const fs = require('fs');
const path = require('path');
const genDir = path.join(__dirname, 'generated-translations');
const esPath = path.join(genDir, 'es.json');
if (!fs.existsSync(esPath)) { console.error('es.json missing:', esPath); process.exit(1); }
const es = JSON.parse(fs.readFileSync(esPath, 'utf8'));

const extras = {
  'scheduledCommands.title': 'Comandos programados',
  'scheduledCommands.subtitle': 'Programar comandos IRC para que se ejecuten automáticamente',
  'scheduledCommands.createButton': 'Crear programación',
  'scheduledCommands.searchPlaceholder': 'Buscar comandos...',
  'scheduledCommands.emptyMessage': 'No hay comandos programados',
  'scheduledCommands.never': 'Nunca',
  'scheduledCommands.next': 'Siguiente',
  'scheduledCommands.messages.created': 'Comando programado creado',
  'scheduledCommands.messages.createFailed': 'Error al crear el comando programado',
  'scheduledCommands.messages.updated': 'Comando programado actualizado',
  'scheduledCommands.messages.updateFailed': 'Error al actualizar el comando programado',
  'scheduledCommands.messages.deleted': 'Comando programado eliminado',
  'scheduledCommands.messages.deleteFailed': 'Error al eliminar el comando programado',
  'scheduledCommands.messages.toggleFailed': 'Error al alternar el comando programado',
  'scheduledCommands.messages.commandExecuted': 'Comando ejecutado',
  'scheduledCommands.messages.runFailed': 'Error al ejecutar el comando',
  'scheduledCommands.messages.loadFailed': 'Error al cargar los comandos programados: {{error}}',
  'scheduledCommands.table.status': 'Estado',
  'scheduledCommands.table.name': 'Nombre',
  'scheduledCommands.table.command': 'Comando',
  'scheduledCommands.table.schedule': 'Programación',
  'scheduledCommands.table.lastRun': 'Última ejecución',
  'scheduledCommands.table.runs': 'Ejecuciones',
  'scheduledCommands.tooltips.clickToDisable': 'Haga clic para desactivar',
  'scheduledCommands.tooltips.clickToEnable': 'Haga clic para activar',
  'scheduledCommands.tooltips.runNow': 'Ejecutar ahora',
  'scheduledCommands.labels.active': 'Activo',
  'scheduledCommands.labels.paused': 'En pausa',
  'scheduledCommands.commandTypes.kill': 'Matar usuario',
  'scheduledCommands.commandTypes.gline': 'G-Line',
  'scheduledCommands.commandTypes.rehash': 'Recargar servidor',
  'scheduledCommands.commandTypes.message': 'Enviar mensaje',
  'scheduledCommands.scheduleTypes.once': 'Una vez',
  'scheduledCommands.scheduleTypes.hourly': 'Cada hora',
  'scheduledCommands.scheduleTypes.daily': 'Cada día',
  'scheduledCommands.scheduleTypes.weekly': 'Cada semana',
  'scheduledCommands.scheduleTypes.monthly': 'Cada mes',
  'scheduledCommands.form.nameLabel': 'Nombre *',
  'scheduledCommands.form.namePlaceholder': 'ej. limpieza diaria, mantenimiento programado',
  'scheduledCommands.form.descriptionLabel': 'Descripción',
  'scheduledCommands.form.descriptionPlaceholder': '¿Qué hace este comando programado?',
  'scheduledCommands.form.commandTypeLabel': 'Tipo de comando *',
  'scheduledCommands.form.targetLabel': 'Objetivo',
  'scheduledCommands.form.reasonLabel': 'Razón',
  'scheduledCommands.form.durationLabel': 'Duración',
  'scheduledCommands.form.messageLabel': 'Mensaje',
  'scheduledCommands.form.scheduleLabel': 'Programación *',
  'scheduledCommands.form.enableLabel': 'Habilitar este comando programado',
  'scheduledCommands.placeholders.target.kill': 'Apodo',
  'scheduledCommands.placeholders.target.gline': 'Máscara de host (p.ej., *@*.bad.com)',
  'scheduledCommands.placeholders.target.rehash': 'Nombre del servidor',
  'scheduledCommands.placeholders.target.message': 'Canal o nick',
  'scheduledCommands.placeholders.target.default': 'Objetivo',
  'scheduledCommands.placeholders.reason': 'Razón de la acción',
  'scheduledCommands.placeholders.duration': 'p.ej., 1d, 1w, 30m',
  'scheduledCommands.placeholders.message': 'Mensaje a enviar',
  'scheduledCommands.createModal.title': 'Crear Comando Programado',
  'scheduledCommands.createModal.createButton': 'Crear',
  'scheduledCommands.editModal.title': 'Editar Comando Programado',
  'scheduledCommands.editModal.saveButton': 'Guardar cambios',
  'scheduledCommands.deleteModal.title': 'Eliminar Comando Programado',
  'scheduledCommands.deleteModal.confirm': '¿Está seguro de que desea eliminar este comando programado? Esta acción no se puede deshacer.',

  'channelTemplates.title': 'Plantillas de canal',
  'channelTemplates.subtitle': 'Guardar y aplicar configuraciones de canal como plantillas reutilizables',
  'channelTemplates.fromChannel': 'Desde canal',
  'channelTemplates.createButton': 'Crear plantilla',
  'channelTemplates.empty': 'No hay plantillas de canal todavía. Crea una o importa desde un canal existente.',
  'channelTemplates.tooltips.global': 'Plantilla global',
  'channelTemplates.tooltips.private': 'Plantilla privada',
  'channelTemplates.tooltips.applyToChannel': 'Aplicar al canal',
  'channelTemplates.tooltips.duplicate': 'Duplicar',
  'channelTemplates.labels.modes': 'Modos',
  'channelTemplates.labels.topic': 'Tema',
  'channelTemplates.used': 'Usado {{count}} veces',
  'channelTemplates.by': 'por',
  'channelTemplates.deleteConfirm': '¿Eliminar esta plantilla?',
  'channelTemplates.form.name': 'Nombre',
  'channelTemplates.form.placeholders.name': 'Nombre de plantilla',
  'channelTemplates.form.placeholders.description': 'Descripción opcional',
  'channelTemplates.form.placeholders.modes': '+nts',
  'channelTemplates.form.placeholders.topic': 'Tema del canal',
  'channelTemplates.form.placeholders.selectChannel': 'Seleccionar un canal...',
  'channelTemplates.form.description': 'Descripción',
  'channelTemplates.form.modes': 'Modos',
  'channelTemplates.form.topic': 'Tema',
  'channelTemplates.form.makeGlobal': 'Hacer esta plantilla disponible para todos los usuarios',
  'channelTemplates.form.updateButton': 'Actualizar',
  'channelTemplates.form.createButton': 'Crear',
  'channelTemplates.form.targetChannel': 'Canal objetivo',
  'channelTemplates.editModal.title': 'Editar plantilla',
  'channelTemplates.createModal.title': 'Crear plantilla',
  'channelTemplates.applyModal.title': 'Aplicar plantilla',
  'channelTemplates.applyModal.subtitle': 'Aplicar la plantilla "{{name}}" a un canal:',
  'channelTemplates.applyModal.applyButton': 'Aplicar plantilla',
  'channelTemplates.createFromChannel.title': 'Crear desde canal',
  'channelTemplates.createFromChannel.description': 'Crear una nueva plantilla a partir de la configuración de un canal existente:',

  'webhooks.title': 'Webhooks',
  'webhooks.subtitle': 'Recibir eventos de registro de UnrealIRCd vía webhooks',
  'webhooks.createButton': 'Crear webhook',
  'webhooks.info.paragraph1': 'Los webhooks permiten a UnrealIRCd enviar eventos de registro directamente a este panel. Cada webhook tiene una URL con token único que configuras en tu unrealircd.conf.',
  'webhooks.info.learnMore': 'Más información sobre los bloques de registro de UnrealIRCd',
  'webhooks.tooltips.viewConfig': 'Ver configuración',
  'webhooks.tooltips.viewLogs': 'Ver registros',
  'webhooks.tooltips.disable': 'Deshabilitar',
  'webhooks.tooltips.enable': 'Habilitar',
  'webhooks.tooltips.regenerate': 'Regenerar token',
  'webhooks.emptyTokens': 'No hay tokens webhook configurados',
  'webhooks.tokens.createModal.title': 'Crear token de webhook',
  'webhooks.tokens.deleteModal.title': 'Eliminar token de webhook',
  'webhooks.tokens.deleteModal.confirm': '¿Estás seguro de que deseas eliminar el token de webhook "{{name}}"?',
  'webhooks.tokens.deleteModal.details': 'UnrealIRCd ya no podrá enviar eventos a esta URL.',
  'webhooks.messages.loadFailed': 'Error al cargar webhooks: {{error}}',

  'userJourney.searchModal.title': 'Buscar Recorrido de Usuario',
  'userJourney.searchModal.description': 'Ingresa al menos un identificador para buscar la actividad del usuario:',
  'userJourney.searchModal.nicknameLabel': 'Apodo',
  'userJourney.searchModal.nicknamePlaceholder': 'Ingresa apodo',
  'userJourney.searchModal.ipLabel': 'Dirección IP',
  'userJourney.searchModal.ipPlaceholder': 'Ingresa IP',

  'userDetail.killTitle': 'Matar usuario: {{name}}',
  'userDetail.killButton': 'Matar usuario',
  'userDetail.banTitle': 'Banear usuario: {{name}}',
  'userDetail.banButton': 'Banear usuario',
  'userDetail.vhostTitle': 'Establecer Vhost: {{name}}',
  'userDetail.setVhostButton': 'Establecer Vhost',
  'userDetail.modesTitle': 'Establecer modos de usuario: {{name}}',
  'userDetail.applyModeChanges': 'Aplicar cambios de modo'
};

for (const k of Object.keys(extras)) es[k] = extras[k];
fs.writeFileSync(esPath, JSON.stringify(es, null, 2) + '\n', 'utf8');
console.log('Patched es.json with', Object.keys(extras).length, 'additional translations');
